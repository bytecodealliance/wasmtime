test run
set opt_level=none
set enable_llvm_abi_extensions=true
target x86_64
set enable_multi_ret_implicit_sret
target s390x
target s390x has_mie2

function %bitselect_i128(i128, i128, i128) -> i128 {
block0(v0: i128, v1: i128, v2: i128):
    v3 = bitselect v0, v1, v2
    return v3
}

; run: %bitselect_i128(0, 0, 0xFFFFFFFFFFFFFFFF_FFFFFFFFFFFFFFFF) == 0xFFFFFFFFFFFFFFFF_FFFFFFFFFFFFFFFF
; run: %bitselect_i128(0x5555555555555555_5555555555555555, 0, 0xFFFFFFFFFFFFFFFF_FFFFFFFFFFFFFFFF) == 0xAAAAAAAAAAAAAAAA_AAAAAAAAAAAAAAAA
; run: %bitselect_i128(0xFFFFFFFFFFFFFFFF_FFFFFFFFFFFFFFFF, 0xFFFFFFFFFFFFFFFF_FFFFFFFFFFFFFFFF, 0) == 0xFFFFFFFFFFFFFFFF_FFFFFFFFFFFFFFFF

function %bitwise_bitselect_i128(i128, i128, i128) -> i128 {
block0(v0: i128, v1: i128, v2: i128):
    v3 = bnot v0
    v4 = band v3, v2
    v5 = band v0, v1
    v6 = bor v5, v4
    return v6
}

; run: %bitwise_bitselect_i128(0, 0, 0xFFFFFFFFFFFFFFFF_FFFFFFFFFFFFFFFF) == 0xFFFFFFFFFFFFFFFF_FFFFFFFFFFFFFFFF
; run: %bitwise_bitselect_i128(0x5555555555555555_5555555555555555, 0, 0xFFFFFFFFFFFFFFFF_FFFFFFFFFFFFFFFF) == 0xAAAAAAAAAAAAAAAA_AAAAAAAAAAAAAAAA
; run: %bitwise_bitselect_i128(0xFFFFFFFFFFFFFFFF_FFFFFFFFFFFFFFFF, 0xFFFFFFFFFFFFFFFF_FFFFFFFFFFFFFFFF, 0) == 0xFFFFFFFFFFFFFFFF_FFFFFFFFFFFFFFFF
